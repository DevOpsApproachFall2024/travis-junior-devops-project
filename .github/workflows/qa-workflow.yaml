name: QA Workflow

on:
    pull_request:
        branches:
            - main

jobs:
    frontend:
        runs-on: self-hosted

        steps:
            -
                name: Checkout
                uses: actions/checkout@v4
            
            - 
                name: Setup Node
                uses: actions/setup-node@v2
                with:
                    node-version: '20'
            - 
                name: Move to frontend directory
                run: cd frontend
            
            - 
                name: Install Dependencies
                run: npm install

            -
                name: Run Linter
                run: npm run lint
            -
                name: Run Tests
                run: npm run test-headless
            - 
                name: Test Build
                run: npm run build --prod
            
        